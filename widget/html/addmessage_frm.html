<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0"/>
    <meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
    <title>添加提醒</title>
    <link rel="stylesheet" type="text/css" href="../css/aui.css" />
    <style type="text/css">
        #classify {
            color: #ffffff !important;
        }
    </style>
</head>
<body style="background-color:#a786c8;">
    <section class="aui-content " style="background-color: #711173 !important">
        <div class="aui-grid aui-bg-info" style="background-color: #711173 !important">
            <div class="aui-row" id="classify">
                <div class="aui-col-xs-3" onclick="selectType(1);" id="type1">
                    <i class="aui-iconfont aui-icon-image"></i>
                    <div class="aui-grid-label">日程</div>
                </div>
                <div class="aui-col-xs-3" onclick="selectType(2);" id="type2">
                    <i class="aui-iconfont aui-icon-camera"></i>
                    <div class="aui-grid-label">生日</div>
                </div>
                <div class="aui-col-xs-3" onclick="selectType(3);" id="type3">
                    <i class="aui-iconfont aui-icon-pencil"></i>
                    <div class="aui-grid-label">纪念日</div>
                </div>
                <div class="aui-col-xs-3" onclick="selectType(4);" id="type4">
                    <i class="aui-iconfont aui-icon-date"></i>
                    <div class="aui-grid-label">倒数日</div>
                </div>
            </div>
        </div>
    </section>

    <section style="height:30px;">
        <div >
        </div>
    </section>

    <section class="aui-content">
        <div class="aui-card-list">
          <div class="aui-card-list-header aui-card-list-user" style="background-color: #711173 !important;">
              <div class="aui-card-list-user-name aui-list-item-input">
                <input type="text" placeholder="请输入事件标题" id="audiotitle" style="color:#ffffff">
                  <!-- <div style="color:#ffffff;">请输入事件标题</div> -->
              </div>
          </div>

          <section style="height:2px;">
              <div >
              </div>
          </section>

            <div class="aui-card-list-header aui-card-list-user" style="background-color: #711173 !important">
                <div class="aui-card-list-user-name" onclick="openTimeFrame();">
                    <div style="color:#ffffff;" id="alerttime">提醒时间</div>
                    <i class="aui-iconfont aui-icon-right" style="color:#ffffff;"></i>
                </div>
            </div>

            <section style="height:2px;">
                <div >
                </div>
            </section>

            <div class="aui-card-list-header aui-card-list-user" style="background-color: #711173 !important">
                <div class="aui-card-list-user-name" id="alerttype" onclick="opentypeSelector();">
                    <div style="color:#ffffff;">重复方式</div>
                    <i class="aui-iconfont aui-icon-right" style="color:#ffffff;"></i>
                </div>
            </div>

            <section style="height:2px;">
                <div >
                </div>
            </section>

            <div class="aui-card-list-header aui-card-list-user" style="background-color: #711173 !important">
                <div class="aui-card-list-user-name" id="ringtype">
                    <div style="color:#ffffff;">提醒方式</div>
                    <i class="aui-iconfont aui-icon-right" style="color:#ffffff;"></i>
                </div>
            </div>

            <section style="height:2px;">
                <div >
                </div>
            </section>

            <div class="aui-card-list-header aui-card-list-user" style="background-color: #711173 !important">
                <div class="aui-card-list-user-name">
                    <div style="color:#ffffff;">请输入提醒内容</div>
                </div>
            </div>
        </div>
    </section>

</body>
<script type="text/javascript" src="../script/api.js" ></script>
<script type="text/javascript">

    var sType = 0;
    var stime = '';
    var aType = '';
    var rType = 0;
    apiready = function () {
      api.addEventListener({
        name: 'timeSelecte'
      },function(ret, err) {
        // alert("11111");
        // alert( JSON.stringify( ret ) );
        // alert(ret.value.shour+":"+ret.value.smin);

        var htmlStr = "提醒时间："+ret.value.shour+":"+ret.value.smin;
        var el = document.getElementById('alerttime');
        stime = ret.value.shour+":"+ret.value.smin;
        // alert( htmlStr );
        // $api.html(el, htmlStr);

        // closetimeSelector();
      });
    }


    function selectType (id) {
        sType = id;
        //api.alert({ msg: ret.msg });
        switch(id){
          case 1:
            document.getElementById("type1").style.background="#a33fad";
            document.getElementById("type2").style.background="#711173";
            document.getElementById("type3").style.background="#711173";
            document.getElementById("type4").style.background="#711173";
            break;
          case 2:
          document.getElementById("type2").style.background="#a33fad";
          document.getElementById("type1").style.background="#711173";
          document.getElementById("type3").style.background="#711173";
          document.getElementById("type4").style.background="#711173";
            break;
          case 3:
          document.getElementById("type3").style.background="#a33fad";
          document.getElementById("type2").style.background="#711173";
          document.getElementById("type1").style.background="#711173";
          document.getElementById("type4").style.background="#711173";
            break;
          case 4:
          document.getElementById("type4").style.background="#a33fad";
          document.getElementById("type2").style.background="#711173";
          document.getElementById("type3").style.background="#711173";
          document.getElementById("type1").style.background="#711173";
            break;
        }
    }


    function opentypeSelector () {
      var UIMultiSelector = api.require('UIMultiSelector');
      UIMultiSelector.open({
        rect: {
         h: 244
         },
         text: {
             title: '请选择',
             leftBtn: '取消',
             rightBtn: '完成',
             selectAll: 'ALL'
         },
         max: 0,
         singleSelection: true,
         styles: {
             mask: 'rgba(0,0,0,0)',
             title: {
                 bg: '#a33fad',
                 color: '#ffffff',
                 size: 16,
                 h: 44
             },
             leftButton: {
                 w: 80,
                 h: 35,
                 marginT: 5,
                 marginL: 8,
                 bg: '#711173',
                 color: '#ffffff',
                 size: 14
             },
             rightButton: {
                 w: 80,
                 h: 35,
                 marginT: 5,
                 marginR: 8,
                 bg: '#711173',
                 color: '#ffffff',
                 size: 14
             },
             item: {
                 h: 35,
                 bg: '#711173',
                 bgActive: '#a33fad',
                 bgHighlight: '#a33fad',
                 color: '#ffffff',
                 active: '#711173',
                 highlight: '#711173',
                 size: 14,
                 lineColor: '#ffffff',
                 textAlign: 'center'
             },
             icon: {
                 w: 20,
                 h: 20,
                 marginT: 11,
                 marginH: 8,
                 bg: '#fff',
                 align: 'left'
             }
         },
         animation: true,
         items: [{
               text: '每天',
               status: 'normal'
           }, {
               text: '每周',
               status: 'normal'
           }, {
               text: '每月',
               status: 'normal'
           }, {
               text: '每年',
               status: 'normal'
           }]
        },function(ret, err) {
             if (ret) {
                 alert(JSON.stringify(ret));
                 aType = ret.items.text;
                 alert(aType);
             } else {
                //  alert(JSON.stringify(err));
             }
      });
    }

    function openTimeFrame () {
        api.openFrame({
            name: 'times',
            url: './time_frm.html',
            rect: {
                x: 0,
                y: 0,
                w: 'auto',
                h: 550
            },
            pageParam: {
                name: 'times'
            }
        });
    }
</script>
</html>
